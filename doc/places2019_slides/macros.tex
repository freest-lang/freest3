%%% Local Variables:
%%% mode: latex
%%% TeX-master: "cfst-inforum18"
%%% End:
      
 
% THEME
\newtcolorbox{mybox}{colback=orange!5!white,colframe=orange!75!black}
\newtcolorbox{myboxazul}{colback=teal!5!white,colframe=teal!75!black}

% TIKZ 
\usetikzlibrary{positioning}
\usetikzlibrary{shapes,arrows}
\usepgfplotslibrary{dateplot}
\tikzstyle{block} = [rectangle, draw, 
    text width=5cm, text centered, rounded corners, minimum height=4em]
\tikzstyle{block2} = [rectangle, draw, 
    text width=10cm, text centered, rounded corners, minimum height=4em]
\tikzstyle{line} = [draw, -latex']

\newenvironment<>{varblock}[2][.9\textwidth]{%
  \setlength{\textwidth}{#1}
  \begin{actionenv}#3%
    \def\insertblocktitle{#2}%
    \par%
    \usebeamertemplate{block begin}}
  {\par%
    \usebeamertemplate{block end}%
  \end{actionenv}}

\newenvironment{changemargin}[3]{%
\begin{list}{}{%
\setlength{\leftmargin}{#1}%
\setlength{\rightmargin}{#2}%
\setlength{\topmargin}{#3}%
}%
\item[]}
{\end{list}}

% session constructors
\newcommand{\intk}{\keyword{int}}
\newcommand{\skipk}{\keyword{skip}}

% The language
\newcommand{\freest}{\textsc{FreeST}}

% notes
\newcommand{\todo}[1]{[{\color{blue}\textbf{#1}}]}

% Keywords
\newcommand{\keyword}[1]{\mathsf{#1}}
\newcommand{\link}{\keyword{lin}}
\newcommand{\unk}{\keyword{un}}

% Kinds
\newcommand\prekind{\upsilon}
\newcommand{\stypes}{\mathcal S}
\newcommand\kinds{\stypes}
\newcommand{\types}{\mathcal T}
\newcommand\kindt{\types}
\newcommand\kindsch{\mathcal C}
\newcommand\kind{\kappa}

% Multiplicity
\newcommand\Un{\ensuremath{\mathbf{u}}} % \infty
\newcommand\Lin{\ensuremath{\mathbf{l}}} % 1 

% Grammars
\newcommand{\grmeq}{\; ::= \;}
\newcommand{\grmor}{\;\mid\;}

% type constructors
\newcommand\tcBase{B}
\newcommand\tcLolli\multimap
\newcommand\tcFun\to
\newcommand\tcBang{\mathop!}

% Keywords for types
\newcommand\kRec{\keyword{rec}}
\newcommand\kForall{\keyword{forall}}

% Types
\newcommand{\tskip}{\keyword{Skip}}
\newcommand\tSemi[2]{#1;#2}
\newcommand\tOut[1]{\tcBang#1}
\newcommand\tIn[1]{?#1}
\newcommand{\tMsg}[1]{\sharp{#1}}
\newcommand\tIChoice[1]{\oplus{#1}}
\newcommand\tEChoice[1]{\&{#1}}
\newcommand{\tChoice}[1]{\star{#1}}
\newcommand{\tData}[1]{[{#1}]}
\newcommand\tUnFun[2]{#1\tcFun#2}
\newcommand\tLinFun[2]{#1\tcLolli#2}
\newcommand\tPair[2]{(#1,\,#2)}
\newcommand\tDatatype[1]{{[#1]}}
\newcommand\tRec[2]{\kRec\,#1\,.\,#2}
%\newcommand\tForall[2]{\forall\,#1\,.\,#2}
%\newcommand\tForall[2]{\kForall\,#1\,=>\,#2}
\newcommand\tForall[2]{\forall\,#1\Rightarrow#2}
% Basic Types
\newcommand{\unite}{()}
\newcommand{\inte}{\keyword{Int}}
\newcommand{\chare}{\keyword{Char}}
\newcommand{\boole}{\keyword{Bool}}

\newcommand\tRecK[2]{\kRec\,#1\,.\,#2}
% Environments
\newcommand{\Empty}{\varepsilon}
\newcommand\emptyEnv{\Empty}
\newcommand\kindEnv{\Delta}
\newcommand\varEnv{\Gamma}

% Variables
\newcommand\vare[1]{#1}
\newcommand\unlete[3]{\keyword{let} \; #1 = #2 \; \keyword{in} \; #3} 

% Applications
\newcommand\appe[2]{#1#2}
\newcommand\tappe[2]{#1[#2]}

% Conditional
\newcommand\conditionale[3]{\keyword{if}\;#1\;\keyword{then}\;#2\;\keyword{else} \; #3}

% Goal
\newcommand\Goal{\vdash}

% Pairs
\newcommand\paire[2]{(#1,#2)}
\newcommand\binlete[4]{\keyword{let}\;#1, #2 = #3\;\keyword{in}\;#4}

% Session Types
\newcommand\newe[1]{\keyword{new}\;#1}
\newcommand\sende[2]{\keyword{send}\;#1\; #2}
\newcommand\sendce[1]{\keyword{send}\;#1}
\newcommand\recve[1]{\keyword{receive}\;#1}
\newcommand\selecte[2]{\keyword{select}\;#1\;{#2}}
\newcommand\matche[2]{\keyword{match}\;#1\;\keyword{with}\;#2}

% Fork
\newcommand\forke[1]{\keyword{fork}\;#1}

% Datatypes
\newcommand{\ctrcte}{C}
\newcommand\casee[2]{\keyword{case}\;#1\;\keyword{of}\;#2}

% Sequents
\newcommand{\isType}[3][\Delta]{{#1} \vdash {#2} : {#3}}
\newcommand{\algkindout}[3][\kindEnv]{{#1} \Alg {#2} \shortrightarrow{ #3}}
\newcommand{\algkindin}[3][\kindEnv]{{#1} \Alg {#2} \shortleftarrow {#3}}
\newcommand{\subkind}[2]{{#1} <: {#2}}
\newcommand{\algtypeout}[4][\kindEnv;\varEnv]{{#1} \Alg {#2} \shortrightarrow {#3};{#4}}
%\newcommand{\algtypein}[4][\kindEnv;\varEnv]{{#1} \Alg {#2}\colon {#3}\shortrightarrow {#4}}
\newcommand{\algtypein}[4][\kindEnv;\varEnv]{{#1} \Alg {#2}\shortleftarrow {#3}; {#4}}
\newcommand{\ctxequiv}[3][\kindEnv]{{#1} \vdash \Equiv{#2}{#3}}
\newcommand{\typeequiv}[3][\kindEnv]{{#1} \vdash \Equiv{#2}{#3}}
\newcommand{\isqualifier}[3][\kindEnv]{{#1} \vdash {#2}\colon{#3}}
\newcommand{\isLin}[2][\kindEnv]{\isqualifier[#1]{#2}\link}
\newcommand{\isUn}[2][\kindEnv]{\isqualifier[#1]{#2}\unk}
\newcommand{\contractive}[2][\kindEnv]{{#1} \vdash_{\textsf c} {#2}}
%\newcommand\Alg{\vdash_{\textsf a}}
\newcommand\Alg{\vdash}

% Operators
\newcommand\Extract[1]{\leadsto_{#1}}% \rightlsquigarrow}
\newcommand{\subs}[3]{[{#1}/{#2}]{#3}}
\newcommand\dual[1]{\overline{#1}}

% Predicates
%\newcommand\Equiv[2]{#1\,\thicksim\,#2}
\newcommand\Equiv[2]{#1\,\sim\,#2}

% Colour

\newcommand{\Blue}[1]{\textcolor{blue}{#1}}
\newcommand{\Red}[1]{\textcolor{red}{#1}}
\newcommand{\Brown}[1]{\textcolor{brown}{#1}}
\newcommand{\highlight}[1]{\Blue{#1}}

% ECLIPSE LOOK

\newcommand\Small{\small}
%\newcommand\Small{\fontsize{7.5}{8}\selectfont} 

\definecolor{darkviolet}{rgb}{0.5,0,0.4}
\definecolor{darkgreen}{rgb}{0,0.4,0.2} 
\definecolor{darkblue}{rgb}{0.1,0.1,0.9}
\definecolor{darkgrey}{rgb}{0.5,0.5,0.5}
\definecolor{lightblue}{rgb}{0.4,0.4,1}

\lstdefinestyle{eclipse}{
  breaklines=true,
  basicstyle=\sffamily\Small,
  emphstyle=\color{red}\bfseries, 
  keywordstyle=\color{darkviolet}\bfseries,
  commentstyle=\color{darkgreen},
  stringstyle=\color{darkblue},
  numberstyle=\color{darkgrey},%\lstfontfamily,
  emphstyle=\color{red},
  % get also javadoc style comments
  morecomment=[s][\color{lightblue}]{/**}{*/},
  %columns=fullflexible, %spaceflexible, %flexible, fullflexible             
  %  escapeinside=`',
  %  escapechar=@,
  showstringspaces=false,
  numbers=left,
  tabsize=2
}

\lstdefinestyle{eclipse-Haskell}{
  breaklines=true,
  basicstyle=\sffamily\Small,
  emphstyle=\color{red}\bfseries, 
  keywordstyle=\color{darkviolet}\bfseries,
  commentstyle=\color{darkgreen},
  stringstyle=\color{darkblue},
  emphstyle=\color{red},
  % get also javadoc style comments
  morecomment=[s][\color{lightblue}]{/**}{*/},
  %columns=fullflexible, %spaceflexible, %flexible, fullflexible             
  %  escapeinside=`',
  %  escapechar=@,
  showstringspaces=false,
  numbers=none,
  tabsize=2
}

\lstdefinelanguage{freest}{
  style=eclipse,
  morekeywords=[1]{Int, Char, Bool, Skip, type, dualof, forall, rec, let, in, if, then, else, new, send, receive, select, fork, case, of, data, match, with, True, False},
  sensitive=true,
  literate=
  {->}{$\rightarrow$}2
  {-o}{$\multimap$}2
  {=>}{$\Rightarrow$}2
  {alpha}{$\alpha$}1,
  breaklines=true,
  morecomment=[l]{--},%
  morecomment=[s]{{-}{-}},%
  morestring=[b]',%
  morestring=[b]",%
  morestring=[s]{`}{`},%
}

\lstset{
  language=freest,
  numbers=none
}
 
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:
