\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{color}
\usepackage{listings}
\usepackage{tikz}
\usepackage{wrapfig}
\usepackage{amsmath,amssymb,stmaryrd,amsthm}
\input{macros}

\title{Session types deserve to be free}
% \author{
%   Bernardo Almeida
%   \and
%   Andreia Mordido
%   \and
%   Vasco T. Vasconcelos
%   \institute{LASIGE, Faculdade de CiÃªncias, Universidade de Lisboa, Portugal}
% }

\begin{document}
%\maketitle

\input{fig-contractivity}

\begin{lemma}[Properties of termination]
  If $\done S$, then $\done{\unfoldk(S)}$.  
\end{lemma}

Note: The above result does not hold in ICFP16.

\begin{lemma}[Properties of contractivity]\
  \begin{enumerate}
  \item If $\isContr S$, then $\isContr{\unfoldk(S)}$
  \item If $\isContr[\Delta,x\colon\kind]{S_1}$ and $\algkindin {S_2} \kind$,
    then $\isContr{\subs{S_2}{x}{S_1}}$.
  \end{enumerate}
\end{lemma}

\input{fig-alg-kinding}
\input{fig-alg-typing}

\begin{lemma}[Substitution Lemma for Types]
  If $\isType[\Delta,x\colon\kind] T\kind'$ and $\isType U\kind$, then
  $\isType{\subs xUT}{\kind'}$.
\end{lemma}
\input{checkAgainst}

\begin{lemma}[Laws for sequential composition]
  \label{lemma:seq-laws}
  Suppose that $S_i \TypeEquiv S'_i$, $i=1,2,3$.
  \begin{align*}
    \skipk;S_1 \TypeEquiv&\; S'_1
    \\
    S_1;\skipk \TypeEquiv&\; S_1'
    \\
    (S_1;S_2);S_3 \TypeEquiv&\; S'_1;(S'_2;S'_3)
    \\
    \star\{l_i\colon S_1\};S_2 \TypeEquiv&\; \star\{l_i\colon S'_1;S'_2\}
  \end{align*}
\end{lemma}

\begin{lemma}[Laws for $\mu$-types]
\label{lemma:mu-laws}
  Suppose that $S_i \TypeEquiv S'_i$, $i=1,2$.
  \begin{align*}
    \mu x. \mu y. S_1 \TypeEquiv&\; \mu x. \subs xy{S_1'}
    \\
    \mu x.S_1 \TypeEquiv&\; S'_1 &\text{if } x \notin \free (S_1)
    \\
    \mu x.S_1 \TypeEquiv&\; \mu y.\subs yx{S_1'} &\text{if } y \notin \free (S'_1)
    \\
    \subs{S_1}{x}{S_2} \TypeEquiv&\; \subs{S_1'}{x}{S_2'}
    \\
    \mu x.S_1 \TypeEquiv&\; \subs{\mu x.S_1'}{x}{S_1'}
  \end{align*}
\end{lemma}

\input{fig-code-gen}


% \bibliography{biblio}
% \bibliographystyle{plain}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
